@tailwind base;
@tailwind components;
@tailwind utilities;

/* Light base */
@layer base {
  html, body, #root { height: 100%; }
  body { @apply bg-white text-zinc-800 antialiased; }
}

/* Glass + liquid helpers (only valid Tailwind @apply values) */
@layer utilities {
  .glass {
    @apply bg-white/70 backdrop-blur-xl ring-1 ring-white/70;
    box-shadow: 0 10px 40px rgba(223,164,198,.14);
  }
  .glass-strong {
    @apply bg-white/80 backdrop-blur-2xl ring-1 ring-white/70;
    box-shadow: 0 20px 80px rgba(223,164,198,.18), inset 0 1px 0 rgba(255,255,255,.08);
  }
  .glass-hover { @apply transition-colors hover:bg-white/90; }

  /* glossy edge */
  .liquid-edge { position: relative; }
  .liquid-edge::after {
    content: "";
    position: absolute; inset: 0; border-radius: inherit; padding: 1px;
    background:
      radial-gradient(120% 140% at 0% 0%, rgba(231,200,115,.35), transparent 60%),
      radial-gradient(120% 140% at 100% 0%, rgba(246,220,229,.35), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.05));
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
            mask-composite: exclude;
    pointer-events: none;
  }

  /* Visible, high-contrast button */
  .btn-primary {
    @apply relative inline-flex items-center justify-center rounded-full px-6 py-3 text-white text-sm font-medium;
    background: linear-gradient(180deg, #fb7185 0%, #f43f5e 100%);
    box-shadow: 0 16px 48px rgba(244,114,182,.35);
    border: 1px solid rgba(255,255,255,.55);
    overflow: hidden; /* clip the shine cleanly */
  }
  .btn-primary:disabled { @apply opacity-70 cursor-not-allowed; }

  /* SHARPER shine beam with long idle between passes */
  .btn-primary .shine {
    position: absolute;
    top: -40%; bottom: -40%; left: -30%;
    width: 26%;                         /* narrow = beam, not rectangle */
    transform: skewX(18deg) translateX(-140%);
    background: linear-gradient(90deg,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,0) 38%,
      rgba(255,255,255,.95) 50%,        /* tight, bright core */
      rgba(255,255,255,0) 62%,
      rgba(255,255,255,0) 100%
    );
    /* taper the ends so it feels like a light beam */
    -webkit-mask-image: radial-gradient(120% 70% at 50% 50%, #000 58%, transparent 72%);
            mask-image: radial-gradient(120% 70% at 50% 50%, #000 58%, transparent 72%);
    will-change: transform, opacity;
    opacity: 0;
    animation: btn-shine 9.5s cubic-bezier(.22,1,.36,1) infinite;
    pointer-events: none;
  }

  /* One quick sweep, then a long idle (no constant looping) */
  @keyframes btn-shine {
    0%, 74% {
      transform: skewX(18deg) translateX(-140%);
      opacity: 0;             /* idle */
    }
    78% {
      opacity: .88;           /* beam appears */
    }
    84% {
      transform: skewX(18deg) translateX(240%); /* fast pass */
      opacity: 0;                                /* fade as it exits */
    }
    100% {
      transform: skewX(18deg) translateX(240%);  /* rest until next pass */
      opacity: 0;
    }
  }

  /* Optional: respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .btn-primary .shine { animation: none; opacity: 0; }
  }
}
